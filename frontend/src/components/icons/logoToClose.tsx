"use client";

import { gsap } from "gsap";
import { MorphSVGPlugin } from "gsap/MorphSVGPlugin";
import React from "react";

import { IconProps } from ".";

gsap.registerPlugin(MorphSVGPlugin);

const logo_d1 = "M4.6626 7.61285C4.4501 7.61285 4.27201 7.54094 4.12835 7.3971C3.98451 7.25327 3.9126 7.0751 3.9126 6.8626C3.9126 6.64994 3.98451 6.47185 4.12835 6.32835C4.27201 6.18469 4.4501 6.11285 4.6626 6.11285H20.1626C20.3751 6.11285 20.5532 6.18477 20.6968 6.3286C20.8407 6.47244 20.9126 6.6506 20.9126 6.8631C20.9126 7.07577 20.8407 7.25385 20.6968 7.39735C20.5532 7.54102 20.3751 7.61285 20.1626 7.61285H4.6626ZM4.6626 19.1129C4.4501 19.1129 4.27201 19.0409 4.12835 18.8971C3.98451 18.7533 3.9126 18.5751 3.9126 18.3626C3.9126 18.1499 3.98451 17.9719 4.12835 17.8284C4.27201 17.6847 4.4501 17.6129 4.6626 17.6129H20.1626C20.3751 17.6129 20.5532 17.6848 20.6968 17.8286C20.8407 17.9724 20.9126 18.1506 20.9126 18.3631C20.9126 18.5758 20.8407 18.7539 20.6968 18.8974C20.5532 19.041 20.3751 19.1129 20.1626 19.1129H4.6626ZM4.6626 13.3629C4.4501 13.3629 4.27201 13.2909 4.12835 13.1471C3.98451 13.0033 3.9126 12.8251 3.9126 12.6126C3.9126 12.3999 3.98451 12.2219 4.12835 12.0784C4.27201 11.9347 4.4501 11.8629 4.6626 11.8629H20.1626C20.3751 11.8629 20.5532 11.9348 20.6968 12.0786C20.8407 12.2224 20.9126 12.4006 20.9126 12.6131C20.9126 12.8258 20.8407 13.0039 20.6968 13.1474C20.5532 13.291 20.3751 13.3629 20.1626 13.3629H4.6626Z";
const close_d1 = "M8 9.43337L4.73334 12.7C4.61111 12.8223 4.45556 12.8834 4.26667 12.8834C4.07778 12.8834 3.92222 12.8223 3.8 12.7C3.67778 12.5778 3.61667 12.4223 3.61667 12.2334C3.61667 12.0445 3.67778 11.8889 3.8 11.7667L7.06667 8.50003L3.8 5.23337C3.67778 5.11114 3.61667 4.95559 3.61667 4.7667C3.61667 4.57781 3.67778 4.42225 3.8 4.30003C3.92222 4.17781 4.07778 4.1167 4.26667 4.1167C4.45556 4.1167 4.61111 4.17781 4.73334 4.30003L8 7.5667L11.2667 4.30003C11.3889 4.17781 11.5444 4.1167 11.7333 4.1167C11.9222 4.1167 12.0778 4.17781 12.2 4.30003C12.3222 4.42225 12.3833 4.57781 12.3833 4.7667C12.3833 4.95559 12.3222 5.11114 12.2 5.23337L8.93334 8.50003L12.2 11.7667C12.3222 11.8889 12.3833 12.0445 12.3833 12.2334C12.3833 12.4223 12.3222 12.5778 12.2 12.7C12.0778 12.8223 11.9222 12.8834 11.7333 12.8834C11.5444 12.8834 11.3889 12.8223 11.2667 12.7L8 9.43337Z";

const LogoToClose = (props: IconProps) => {
  const pathRef1 = React.useRef<SVGPathElement>(null);

  React.useEffect(() => {
    if (pathRef1.current) {
      gsap.to(pathRef1.current, {
        duration: 0.2,
        morphSVG: props.fill ? close_d1 : logo_d1,
        ease: "power3.out",
        immediateRender: false
      });
    }
  }, [props.fill]);

  return (
    <svg
      className={props.className}
      viewBox={
        props.fill ? "0 0 16 16" : "0 0 25 25"
      }
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g clipPath="url(#clip0_315_2395)">
        <path
          ref={pathRef1}
          className={props.fillClassName ?? "fill-current"}
          d={logo_d1}
        />
      </g>
      <defs>
        <clipPath id="clip0_315_2395">
          <rect width="24" height="24" fill="white" transform="translate(0 0.5)"/>
        </clipPath>
      </defs>
    </svg>
  );
};

export default LogoToClose;
